<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Tá»• áº¤m ğŸ¡</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="css/base.css"/>
<link rel="stylesheet" href="css/home.css"/>
<link rel="stylesheet" href="css/finance.css"/>
<link rel="stylesheet" href="css/chores.css"/>
<link rel="stylesheet" href="css/notes.css"/>
<link rel="stylesheet" href="css/dreams.css"/>
<!-- <link rel="stylesheet" href="css/ai.css"/> -->
<link rel="stylesheet" href="css/games.css"/>
<!-- External libs -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
</head>
<body>

<!-- TOAST -->
<div id="toast"></div>

<!-- APP -->
<div id="app">

<!-- HEADER -->
<header class="header">
  <span class="header-icon">ğŸ¡</span>
  <h1>Tá»• áº¤m Cá»§a ChÃºng MÃ¬nh</h1>
  <div class="header-sub">Äáº¡t & TLinh Â· á»c Â· Vá»‹t Â· Soju Â· Uni Â· TÃ´m ğŸ±</div>
  <div class="date-chip" id="date-chip"></div>
</header>

<!-- NAV -->
<nav class="nav">
  <button class="nav-btn on" data-t="home"    onclick="go('home',this)">ğŸ  Tá»• áº¤m</button>
  <button class="nav-btn"    data-t="finance" onclick="go('finance',this)">ğŸ’° Thu Chi</button>
  <button class="nav-btn"    data-t="chores"  onclick="go('chores',this)">ğŸ§¹ Viá»‡c NhÃ </button>
  <button class="nav-btn"    data-t="notes"   onclick="go('notes',this)">ğŸ“ Ghi ChÃº</button>
  <button class="nav-btn"    data-t="dreams"  onclick="go('dreams',this)">ğŸ¯ Má»¥c TiÃªu</button>
  <!-- <button class="nav-btn"    data-t="ai"      onclick="go('ai',this)">ğŸ¤– Trá»£ LÃ½</button> -->
  <button class="nav-btn"    data-t="games"   onclick="go('games',this)">ğŸ² Vui</button>
</nav>

<!-- MAIN -->
<main class="main" id="main"></main>

</div><!-- #app -->

<!-- â”€â”€ MODALS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->

<div class="overlay" id="modal-note" onclick="if(event.target===this)closeModal('modal-note')">
  <div class="modal">
    <div class="modal-title">ğŸ“ Ghi ChÃº Má»›i</div>
    <div class="field">
      <label>TiÃªu Ä‘á»</label>
      <input id="n-title" placeholder="TiÃªu Ä‘á»..."
        onkeydown="if(event.key==='Enter'){event.preventDefault();addNote();}"/>
    </div>
    <div class="field"><label>Ná»™i dung</label><textarea id="n-body" placeholder="Viáº¿t gÃ¬ Ä‘Ã³..."></textarea></div>
    <div class="field">
      <label>NhÃ£n</label>
      <div class="pills" id="n-tag-pills">
        <span class="pill on" data-v="Ghi nhá»›" onclick="pickPill(this,'n-tag-pills')">ğŸ“Œ Ghi nhá»›</span>
        <span class="pill" data-v="CÃ¹ng nhau"  onclick="pickPill(this,'n-tag-pills')">ğŸ’• CÃ¹ng nhau</span>
        <span class="pill" data-v="Mua sáº¯m"    onclick="pickPill(this,'n-tag-pills')">ğŸ›’ Mua sáº¯m</span>
        <span class="pill" data-v="Ã tÆ°á»Ÿng"    onclick="pickPill(this,'n-tag-pills')">ğŸ’¡ Ã tÆ°á»Ÿng</span>
      </div>
    </div>
    <button class="btn btn-lav btn-full" onclick="addNote()">ğŸ’¾ LÆ°u Ghi ChÃº</button>
  </div>
</div>

<div class="overlay" id="modal-event" onclick="if(event.target===this)closeModal('modal-event')">
  <div class="modal">
    <div class="modal-title">ğŸ“… Sá»± Kiá»‡n Má»›i</div>
    <div class="field">
      <label>TÃªn sá»± kiá»‡n</label>
      <input id="ev-name" placeholder="vd: Ká»· niá»‡m 1 nÄƒm yÃªu..."
        onkeydown="if(event.key==='Enter'){event.preventDefault();addEvent();}"/>
    </div>
    <div class="row2">
      <div class="field"><label>NgÃ y</label><input id="ev-date" type="date"/></div>
      <div class="field">
        <label>Loáº¡i</label>
        <div class="pills" id="ev-type-pills" style="margin-top:.2rem">
          <span class="pill on-lav on" data-v="chung" onclick="pickPill(this,'ev-type-pills')">ğŸ’‘ Chung</span>
          <span class="pill"          data-v="rieng"  onclick="pickPill(this,'ev-type-pills')">ğŸ‘¤ CÃ¡ nhÃ¢n</span>
        </div>
      </div>
    </div>
    <div class="field">
      <label>Ai</label>
      <select id="ev-who">
        <option>Cáº£ hai</option><option>Äáº¡t</option><option>TLinh</option>
      </select>
    </div>
    <button class="btn btn-lav btn-full" onclick="addEvent()">ğŸ“… LÆ°u Sá»± Kiá»‡n</button>
  </div>
</div>

<div class="overlay" id="modal-dream" onclick="if(event.target===this)closeModal('modal-dream')">
  <div class="modal">
    <div class="modal-title">ğŸ¯ Má»¥c TiÃªu Má»›i</div>
    <div class="field">
      <label>TÃªn má»¥c tiÃªu</label>
      <input id="dr-title" placeholder="vd: Du lá»‹ch ÄÃ  Láº¡t, mua xe má»›i..."
        onkeydown="if(event.key==='Enter'){event.preventDefault();addDream();}"/>
    </div>
    <div class="field">
      <label>Ghi chÃº</label>
      <textarea id="dr-note" placeholder="MÃ´ táº£ thÃªm..." style="min-height:56px"></textarea>
    </div>
    <div class="field">
      <label>Danh má»¥c</label>
      <div class="pills" id="dr-cat-pills">
        <span class="pill on" data-v="travel" onclick="pickPill(this,'dr-cat-pills')">âœˆï¸ Du lá»‹ch</span>
        <span class="pill"    data-v="home"   onclick="pickPill(this,'dr-cat-pills')">ğŸ  Tá»• áº¥m</span>
        <span class="pill"    data-v="life"   onclick="pickPill(this,'dr-cat-pills')">ğŸ’‘ Cuá»™c sá»‘ng</span>
        <span class="pill"    data-v="money"  onclick="pickPill(this,'dr-cat-pills')">ğŸ’° TÃ i chÃ­nh</span>
      </div>
    </div>
    <div class="field">
      <label>Tiáº¿n Ä‘á»™ â€” <span id="dr-prog-val">0</span>%</label>
      <input type="range" id="dr-progress" min="0" max="100" value="0"
        oninput="document.getElementById('dr-prog-val').textContent=this.value;updateRangeStyle(this)"/>
    </div>
    <button class="btn btn-peach btn-full" onclick="addDream()">ğŸ¯ ThÃªm Má»¥c TiÃªu</button>
  </div>
</div>

<!-- â”€â”€ SCRIPTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<script src="js/core.js"></script>
<script src="js/home.js"></script>
<script src="js/finance.js"></script>
<script src="js/chores.js"></script>
<script src="js/notes.js"></script>
<script src="js/dreams.js"></script>
<!-- <script src="js/ai.js"></script> -->
<script src="js/games.js"></script>
<script src="js/realtime.js"></script>

</body>
</html>
