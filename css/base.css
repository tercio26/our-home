/* ── TOKENS ─────────────────────────────────── */
:root {
  --bg:       #FAF7F2;
  --surface:  #FFFFFF;
  --surface2: #FDF9F4;
  --border:   #EDE8E0;
  --peach:    #E8A87C;
  --peach-l:  #F5DCC8;
  --peach-xl: #FDF0E6;
  --rose:     #D4877A;
  --rose-l:   #F2D5D0;
  --sage:     #7FAF8A;
  --sage-l:   #C8DFD0;
  --sage-xl:  #EAF4EE;
  --lav:      #9B8EC4;
  --lav-l:    #D8D0F0;
  --lav-xl:   #F0EDF8;
  --amber:    #C9A84C;
  --amber-l:  #EEE0B0;
  --amber-xl: #FBF6E8;
  --ink:      #2C2420;
  --ink2:     #6B5C54;
  --ink3:     #A08880;
  --r:        18px;
  --r-sm:     12px;
  --sh:       0 2px 16px rgba(44,36,32,.07);
  --sh-lg:    0 8px 32px rgba(44,36,32,.12);
}

/* ── RESET ───────────────────────────────────── */
*, *::before, *::after { box-sizing:border-box; margin:0; padding:0; }
html { -webkit-tap-highlight-color:transparent; }
body {
  font-family:'DM Sans', sans-serif;
  background: var(--bg);
  color: var(--ink);
  min-height: 100vh;
  overflow-x: hidden;
}

/* ── SCROLLBAR ───────────────────────────────── */
::-webkit-scrollbar { width:4px; height:4px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:var(--peach-l); border-radius:4px; }

/* ── TOAST ───────────────────────────────────── */
#toast {
  position:fixed; bottom:90px; left:50%; transform:translateX(-50%) translateY(12px);
  background:var(--ink); color:#fff; border-radius:24px; padding:.55rem 1.3rem;
  font-size:.8rem; font-weight:500; z-index:9999; opacity:0;
  transition:all .3s cubic-bezier(.34,1.56,.64,1); pointer-events:none; white-space:nowrap;
}
#toast.show { opacity:1; transform:translateX(-50%) translateY(0); }
#toast.err  { background:var(--rose); }
#toast.ok   { background:var(--sage); }

/* ── HEADER ──────────────────────────────────── */
.header {
  padding: 1.6rem 1.2rem 1rem;
  background: linear-gradient(160deg, #FDF0E4 0%, #FBF0F5 55%, #F0F5EC 100%);
  border-bottom: 1px solid var(--border);
  text-align: center;
  position: relative;
  overflow: hidden;
}
.header::before {
  content:'';
  position:absolute; inset:0;
  background: radial-gradient(ellipse 80% 60% at 50% -10%, rgba(232,168,124,.18), transparent);
  pointer-events:none;
}
.header-icon { font-size:2.2rem; line-height:1; animation:bob 4s ease-in-out infinite; display:block; }
@keyframes bob { 0%,100%{transform:translateY(0) rotate(-2deg)} 50%{transform:translateY(-5px) rotate(2deg)} }
.header h1 {
  font-family:'Cormorant Garamond', serif;
  font-size:1.75rem; font-weight:600; color:var(--ink);
  margin:.35rem 0 .2rem; letter-spacing:-.01em;
}
.header-sub { font-size:.78rem; color:var(--ink3); font-style:italic; }
.date-chip {
  display:inline-block; margin-top:.6rem;
  background:rgba(255,255,255,.8); border:1px solid var(--border);
  border-radius:20px; padding:.22rem .9rem;
  font-size:.72rem; color:var(--ink2); font-weight:500;
  backdrop-filter:blur(8px);
}

/* ── NAV ─────────────────────────────────────── */
.nav {
  position:sticky; top:0; z-index:40;
  background:rgba(250,247,242,.92); backdrop-filter:blur(12px);
  border-bottom:1px solid var(--border);
  padding:.55rem .8rem .45rem;
  display:flex; gap:.35rem; overflow-x:auto;
  justify-content:center; scrollbar-width:none;
}
.nav::-webkit-scrollbar { display:none; }
.nav-btn {
  flex-shrink:0; border:1.5px solid transparent;
  border-radius:22px; padding:.38rem .85rem;
  background:transparent; font-family:'DM Sans',sans-serif;
  font-size:.75rem; font-weight:500; cursor:pointer;
  color:var(--ink3); transition:all .2s; white-space:nowrap;
  display:flex; align-items:center; gap:.3rem;
}
.nav-btn:hover { color:var(--ink); background:var(--surface); box-shadow:var(--sh); }
.nav-btn.on { background:var(--surface); box-shadow:var(--sh); color:var(--ink); font-weight:600; }
.nav-btn.on[data-t=home]    { border-color:var(--peach); }
.nav-btn.on[data-t=finance] { border-color:var(--amber); color:var(--amber); }
.nav-btn.on[data-t=chores]  { border-color:var(--sage);  color:var(--sage); }
.nav-btn.on[data-t=notes]   { border-color:var(--lav);   color:var(--lav); }
.nav-btn.on[data-t=dreams]  { border-color:var(--peach); color:var(--rose); }
.nav-btn.on[data-t=ai]      { border-color:#7BA3E8; color:#5A7AC8; }

/* ── MAIN ────────────────────────────────────── */
.main { max-width:560px; margin:0 auto; padding:1rem .9rem 6rem; }

/* ── PAGE FADE ───────────────────────────────── */
.page { animation:pagein .25s ease; }
@keyframes pagein { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }

/* ── CARD ────────────────────────────────────── */
.card {
  background:var(--surface); border-radius:var(--r);
  border:1px solid var(--border); box-shadow:var(--sh);
  padding:1.1rem 1.1rem .9rem; margin-bottom:.8rem;
}
.card-title {
  font-family:'Cormorant Garamond', serif;
  font-size:1.05rem; font-weight:600; color:var(--ink);
  margin-bottom:.85rem; display:flex; align-items:center; gap:.4rem;
}

/* ── FORM ELEMENTS ───────────────────────────── */
.field { margin-bottom:.55rem; }
.field label { font-size:.72rem; font-weight:600; color:var(--ink2); display:block; margin-bottom:.25rem; letter-spacing:.02em; text-transform:uppercase; }
input, select, textarea {
  font-family:'DM Sans',sans-serif; font-size:.85rem;
  border:1.5px solid var(--border); border-radius:var(--r-sm);
  padding:.58rem .8rem; width:100%;
  background:var(--surface2); color:var(--ink); outline:none;
  transition:border-color .2s, box-shadow .2s;
  -webkit-appearance:none;
}
input:focus, select:focus, textarea:focus {
  border-color:var(--peach); box-shadow:0 0 0 3px var(--peach-xl);
  background:var(--surface);
}
textarea { resize:vertical; min-height:72px; line-height:1.55; }
.row2 { display:grid; grid-template-columns:1fr 1fr; gap:.5rem; }

/* ── BUTTON ──────────────────────────────────── */
.btn {
  display:inline-flex; align-items:center; justify-content:center; gap:.4rem;
  padding:.6rem 1.2rem; border-radius:22px; border:none;
  font-family:'DM Sans',sans-serif; font-size:.82rem; font-weight:600;
  cursor:pointer; transition:all .18s; white-space:nowrap;
}
.btn:hover { filter:brightness(1.06); transform:translateY(-1px); }
.btn:active { transform:translateY(0); filter:brightness(.97); }
.btn-full { width:100%; margin-top:.55rem; }
.btn-sm { padding:.35rem .8rem; font-size:.75rem; }
.btn-peach   { background:var(--peach);   color:#fff; }
.btn-sage    { background:var(--sage);    color:#fff; }
.btn-lav     { background:var(--lav);     color:#fff; }
.btn-amber   { background:var(--amber);   color:#fff; }
.btn-rose    { background:var(--rose);    color:#fff; }
.btn-outline { background:transparent; border:1.5px solid var(--border); color:var(--ink2); }
.btn-outline:hover { border-color:var(--peach); color:var(--ink); }

/* ── PILLS / CHIPS ───────────────────────────── */
.pills { display:flex; flex-wrap:wrap; gap:.35rem; margin-bottom:.6rem; }
.pill {
  padding:.3rem .8rem; border-radius:20px;
  border:1.5px solid var(--border); background:var(--surface2);
  font-size:.75rem; font-weight:500; cursor:pointer; color:var(--ink2);
  transition:all .18s; font-family:'DM Sans',sans-serif;
}
.pill:hover { border-color:var(--peach-l); color:var(--ink); }
.pill.on { background:var(--peach-xl); border-color:var(--peach); color:var(--peach); font-weight:600; }
.pill.on-sage  { background:var(--sage-xl);  border-color:var(--sage);  color:var(--sage); font-weight:600; }
.pill.on-lav   { background:var(--lav-xl);   border-color:var(--lav);   color:var(--lav); font-weight:600; }
.pill.on-amber { background:var(--amber-xl); border-color:var(--amber); color:var(--amber); font-weight:600; }

/* ── SECTION LABEL ───────────────────────────── */
.sec {
  font-size:.68rem; font-weight:600; letter-spacing:.1em; text-transform:uppercase;
  color:var(--ink3); margin:1rem 0 .5rem;
  display:flex; align-items:center; gap:.5rem;
}
.sec::after { content:''; flex:1; height:1px; background:var(--border); }

/* ── EMPTY ───────────────────────────────────── */
.empty { text-align:center; padding:1.8rem 1rem; color:var(--ink3); }
.empty-icon { font-size:2rem; display:block; margin-bottom:.5rem; opacity:.4; }


/* ── MODAL OVERLAY ───────────────────────────── */
.overlay {
  position:fixed; inset:0; background:rgba(44,36,32,.35);
  backdrop-filter:blur(6px); z-index:200;
  display:flex; align-items:center; justify-content:center; padding:1rem;
  opacity:0; pointer-events:none; transition:opacity .22s;
}
.overlay.open { opacity:1; pointer-events:all; }
.modal {
  background:var(--surface); border-radius:24px; padding:1.4rem;
  width:100%; max-width:440px; max-height:88vh; overflow-y:auto;
  box-shadow:var(--sh-lg); transform:scale(.96) translateY(10px);
  transition:transform .25s cubic-bezier(.34,1.56,.64,1);
  border:1px solid var(--border);
}
.overlay.open .modal { transform:scale(1) translateY(0); }
.modal-title {
  font-family:'Cormorant Garamond',serif; font-size:1.2rem; font-weight:600;
  color:var(--ink); margin-bottom:1rem; text-align:center;
}

/* ── AMOUNT PREVIEW ─────────────────────────── */
#tx-amt-preview {
  font-weight: 700; color: var(--peach); font-size: .78rem;
  margin-left: .3rem; transition: opacity .2s;
}
.chart-section { padding:.4rem 0 .2rem; }
.chart-label { font-size:.72rem; font-weight:600; color:var(--ink3); margin-bottom:.5rem; letter-spacing:.04em; text-transform:uppercase; }
